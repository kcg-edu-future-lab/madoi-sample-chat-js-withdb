# madoi-sample-chat-js-withdb

チャットログを保存するサーバ(PHP)を利用するチャットアプリケーションのサンプルです。

Submitボタンがクリックされると，まずDBにメッセージが保存され，それが成功すれば，madoiを使ってメッセージを配信しています。

DBには全てのチャットログが保存され，madoiには最後のクライアントが切断してから10分経過するまでログ(ChatLogクラスのgetStateが返したオブジェクト)が保持されます。

DBからチャットログを受け取った後に追加されたメッセージは，madoiへの接続時に受け取れるため，取りこぼしは発生しません。
